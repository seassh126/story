<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì½©ì¥ì™€ íŒ¥ì¥ ì´ì•¼ê¸° ë§ˆì¸ë“œë§µ</title>
    <!-- Vis.js Library for Graph -->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Jua&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #FFCC80;
            --secondary-color: #FFF3E0;
            --accent-color: #FFAB91;
            --chat-bg: #E0F2F1;
            --text-color: #5D4037;
            --chat-width: 400px;
        }

        /* Basic Reset & Font */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Jua', sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            overflow: hidden;
            /* Prevent body scroll */
        }

        /* Main Layout: Split Screen */
        .main-layout {
            display: flex;
            width: 100%;
            height: 100%;
            /* Force full height */
            flex-direction: row;
        }

        /* Left Pane: Graph Visualization */
        .graph-pane {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            background: #ffffff;
            border-right: 5px solid #AED581;
            overflow: hidden;
        }

        .graph-header {
            padding: 20px;
            background: #DCEDC8;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        h1 {
            margin: 0;
            font-size: 2.2rem;
            color: #33691E;
            text-shadow: 1px 1px 0px #fff;
        }

        .subtitle {
            font-family: 'Gaegu';
            font-size: 1.2rem;
            color: #558B2F;
            margin-top: 5px;
        }

        /* Essential: Force non-zero height for Vis.js */
        #mynetwork {
            flex: 1;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(#F1F8E9 1px, transparent 1px), linear-gradient(90deg, #F1F8E9 1px, transparent 1px);
            background-size: 40px 40px;
            cursor: grab;
            outline: none;
        }

        /* Legend */
        .legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 20px;
            border: 3px solid #AED581;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-family: 'Gaegu';
        }

        .legend-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            border-bottom: 2px dashed #AED581;
            padding-bottom: 5px;
            color: #33691E;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .box-sample {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 10px;
            border: 1px solid #aaa;
            display: inline-block;
        }

        /* Right Pane: Chatbot */
        .chat-pane {
            width: var(--chat-width);
            background: #fff;
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.05);
            z-index: 20;
            border-left: 1px solid #ddd;
        }

        .chat-header {
            background: #80CBC4;
            padding: 20px;
            text-align: center;
            color: white;
        }

        .bot-profile {
            width: 70px;
            height: 70px;
            background: #fff;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 4px solid #B2DFDB;
        }

        .chat-title {
            font-size: 1.5rem;
        }

        .chat-desc {
            font-family: 'Gaegu';
            font-size: 1rem;
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--chat-bg);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 1.1rem;
            line-height: 1.4;
            position: relative;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .msg-bot {
            background: #ffffff;
            color: #00695C;
            border-top-left-radius: 5px;
            border: 2px solid #B2DFDB;
            align-self: flex-start;
        }

        .msg-user {
            background: #FFAB91;
            color: white;
            border-top-right-radius: 5px;
            align-self: flex-end;
        }

        /* Chips */
        .chips-container {
            padding: 10px 15px;
            background: #fff;
            border-top: 1px solid #eee;
        }

        .chips-title {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 5px;
            font-family: 'Gaegu';
        }

        .chips-vis {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .chip {
            background: #FFF3E0;
            border: 1px solid #FFCC80;
            color: #E65100;
            padding: 6px 10px;
            border-radius: 15px;
            font-family: 'Gaegu';
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .chip:hover {
            background: #FFE0B2;
            transform: translateY(-2px);
        }

        /* Input */
        .input-area {
            padding: 15px;
            background: #fff;
            display: flex;
            gap: 10px;
            border-top: 1px solid #eee;
        }

        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border-radius: 25px;
            border: 2px solid #E0E0E0;
            font-family: 'Jua';
            font-size: 1.1rem;
            outline: none;
        }

        .chat-input:focus {
            border-color: #80CBC4;
        }

        .send-btn {
            width: 45px;
            background-color: #80CBC4;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .send-btn:hover {
            background-color: #4DB6AC;
        }
    </style>
</head>

<body>

    <div class="main-layout">
        <div class="graph-pane">
            <div class="graph-header">
                <h1>ğŸ§  ì½©ì¥ì™€ íŒ¥ì¥ ì´ì•¼ê¸° ë§ˆì¸ë“œë§µ</h1>
                <div class="subtitle">ğŸ‘‰ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ì•¼ê¸°ë¥¼ ë”°ë¼ê°€ë³´ì„¸ìš”!</div>
            </div>
            <div id="mynetwork"></div>
            <div class="legend">
                <div class="legend-title">ì§€ë„ ì„¤ëª…</div>
                <div class="legend-item"><span class="box-sample" style="background:#FFF176"></span> í° ì£¼ì œ</div>
                <div class="legend-item"><span class="box-sample" style="background:#C8E6C9"></span> ì½©ì¥ì™€ ì¹œêµ¬ë“¤</div>
                <div class="legend-item"><span class="box-sample" style="background:#FFCDD2"></span> ë‚˜ìœ ì‚¬ëŒë“¤</div>
                <div class="legend-item"><span class="box-sample" style="background:#E1BEE7"></span> ë¬¼ê±´/ì‚¬ê±´</div>
            </div>
        </div>

        <div class="chat-pane">
            <div class="chat-header">
                <div class="bot-profile">ğŸ“</div>
                <div class="chat-title">ì´ì•¼ê¸° ë°•ì‚¬ë‹˜</div>
                <div class="chat-desc">ê¶ê¸ˆí•œ ê±¸ ëˆŒëŸ¬ë³´ê±°ë‚˜ ë¬¼ì–´ë´!</div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message msg-bot">
                    ì•ˆë…•! ğŸ‘‹ ì½©ì¥ì™€ íŒ¥ì¥ ì´ì•¼ê¸°ë¥¼ <b>ë§ˆì¸ë“œë§µ</b>ìœ¼ë¡œ ê·¸ë ¤ë´¤ì–´.<br>
                    ê¶ê¸ˆí•œ ë‹¨ì–´ë¥¼ ëˆ„ë¥´ë©´ ë‚´ê°€ ì„¤ëª…í•´ì¤„ê²Œ! ğŸ§
                </div>
            </div>
            <div class="chips-container">
                <div class="chips-title">ê¶ê¸ˆí•œ ê±¸ ëˆŒëŸ¬ë³´ì„¸ìš” ğŸ‘‡</div>
                <div class="chips-vis">
                    <button class="chip" onclick="askQuestion('ì½©ì¥ëŠ”?')">ğŸ‘§ ì½©ì¥ëŠ” ëˆ„êµ¬ì•¼?</button>
                    <button class="chip" onclick="askQuestion('íŒ¥ì¥ëŠ”?')">ğŸ‘¿ íŒ¥ì¥ëŠ” ì™œ ê·¸ë˜?</button>
                    <button class="chip" onclick="askQuestion('ë™ë¬¼ ì¹œêµ¬ë“¤ì€?')">ğŸ¸ ë™ë¬¼ ì¹œêµ¬ë“¤</button>
                    <button class="chip" onclick="askQuestion('ì¤‘ìš”í•œ ë¬¼ê±´ì€?')">ğŸ’ ì¤‘ìš”í•œ ë¬¼ê±´</button>
                    <button class="chip" onclick="askQuestion('ì „ì²´ ì¤„ê±°ë¦¬ëŠ”?')">ğŸ“– ì „ì²´ ì¤„ê±°ë¦¬</button>
                    <button class="chip" onclick="askQuestion('êµí›ˆì´ ë­ì•¼?')">ğŸ’¡ êµí›ˆì€?</button>
                    <button class="chip" onclick="askQuestion('ì „ë˜ë™í™”ë€?')">ğŸ‡°ğŸ‡· ì „ë˜ë™í™”ë€?</button>
                </div>
            </div>
            <div class="input-area">
                <input type="text" class="chat-input" id="userInput" placeholder="ì½©ì¥ëŠ” ëˆ„êµ¬ì•¼?"
                    onkeypress="handleEnter(event)">
                <button class="send-btn" onclick="sendUserMessage()">â¤</button>
            </div>
        </div>
    </div>

    <script>
        // --- Data Based on fable.ttl (Kongjwi) ---
        const nodesArray = [
            // Root
            { id: 0, label: 'ğŸ“–\nì½©ì¥ì™€ íŒ¥ì¥\n(ì´ì•¼ê¸°)', group: 'root', margin: 10, font: { size: 28, color: 'white' } },

            // Level 1: Categories
            { id: 1, label: 'ğŸ‘¥ ë“±ì¥ì¸ë¬¼', group: 'category' },
            { id: 2, label: 'ğŸ’ ì¤‘ìš”í•œ ë¬¼ê±´', group: 'category' },
            { id: 3, label: 'ğŸ“œ ì£¼ìš” ì‚¬ê±´', group: 'category' },
            { id: 4, label: 'ğŸ’¡ ì£¼ì œ/ë°°ê²½', group: 'category' },

            // Level 2: Details
            // Characters
            { id: 11, label: 'ğŸ‘§ ì½©ì¥\n(ì°©í•œ ì£¼ì¸ê³µ)', group: 'good', shape: 'box' },
            { id: 12, label: 'ğŸ˜ˆ íŒ¥ì¥ & ê³„ëª¨\n(ë‚˜ìœ ì‚¬ëŒë“¤)', group: 'bad', shape: 'box' },
            { id: 13, label: 'ğŸ¸ ë™ë¬¼ ì¹œêµ¬ë“¤\n(ë‘êº¼ë¹„, ì†Œ, ì°¸ìƒˆ)', group: 'helper', shape: 'box' },
            { id: 14, label: 'ğŸ¤´ ì›ë‹˜(ì‚¬ë˜)', group: 'love', shape: 'box' },
            // Items
            { id: 21, label: 'ğŸº ê¹¨ì§„ ë…', group: 'item', shape: 'ellipse' },
            { id: 22, label: 'ğŸ‘  ê½ƒì‹ ', group: 'item', shape: 'ellipse' },
            // Events
            { id: 31, label: '1. ì–´ë ¤ìš´ ìˆ™ì œ\n(ë°­ ê°ˆê¸° ë“±)', group: 'event', shape: 'box' },
            { id: 32, label: '2. ì”ì¹˜ ê°€ëŠ” ê¸¸\n(ë„ì›€ ë°›ìŒ)', group: 'event', shape: 'box' },
            { id: 33, label: '3. ê½ƒì‹  ìƒì–´ë²„ë¦¼', group: 'event', shape: 'box' },
            { id: 34, label: '4. ê²°í˜¼ê³¼ í–‰ë³µ', group: 'event', shape: 'box' },
            // Theme
            { id: 41, label: 'âœ¨ ê¶Œì„ ì§•ì•…\n(ì°©í•œ ì¼=ë³µ)', group: 'good', shape: 'text', font: { size: 20, color: '#333', background: '#C8E6C9' } },
            { id: 42, label: 'ğŸ‡°ğŸ‡· í•œêµ­ ì „ë˜ë™í™”', group: 'item', shape: 'text', font: { size: 20, color: '#333', background: '#E1BEE7' } }
        ];

        const edgesArray = [
            { from: 0, to: 1 }, { from: 0, to: 2 }, { from: 0, to: 3 }, { from: 0, to: 4 },
            { from: 1, to: 11 }, { from: 1, to: 12 }, { from: 1, to: 13 }, { from: 1, to: 14 },
            { from: 2, to: 21 }, { from: 2, to: 22 },
            { from: 3, to: 31 }, { from: 3, to: 32 }, { from: 3, to: 33 }, { from: 3, to: 34 },
            { from: 4, to: 41 }, { from: 4, to: 42 }
        ];

        const answers = {
            "ì½©ì¥": "ì½©ì¥ëŠ” ì´ë¦„ì²˜ëŸ¼ ì½©ì•Œê°™ì´ ì‘ê³  ê·€ì—¬ìš´ ì£¼ì¸ê³µì´ì•¼. ì°©í•œ ë§ˆìŒì”¨ë¥¼ ê°€ì¡Œì§€ë§Œ ê³„ëª¨ì™€ íŒ¥ì¥ì—ê²Œ ê´´ë¡­í˜ì„ ë‹¹í–ˆì–´. ğŸ˜¢ í•˜ì§€ë§Œ ë™ë¬¼ ì¹œêµ¬ë“¤ì˜ ë„ì›€ìœ¼ë¡œ ìˆ™ì œë¥¼ ë§ˆì¹˜ê³  ì”ì¹˜ì— ê°€ì„œ í–‰ë³µì„ ì°¾ì•˜ì§€! âœ¨",
            "íŒ¥ì¥": "íŒ¥ì¥ëŠ” ì½©ì¥ì˜ ë°°ë‹¤ë¥¸ ì–¸ë‹ˆì•¼. ìš•ì‹¬ì´ ë§ê³  ì‹¬ìˆ ê¶‚ì–´ì„œ ì°©í•œ ì½©ì¥ë¥¼ ëŠ˜ ê´´ë¡­í˜”ì–´. ğŸ‘¿ ì¹œêµ¬ë¥¼ ê´´ë¡­íˆë©´ ë‚˜ì¤‘ì— ë²Œì„ ë°›ê²Œ ëœë‹¤ëŠ” ê±¸ ë³´ì—¬ì£¼ëŠ” ì¸ë¬¼ì´ì§€.",
            "ê³„ëª¨": "íŒ¥ì¥ì˜ ì—„ë§ˆì´ì ì½©ì¥ì˜ ìƒˆì–´ë¨¸ë‹ˆì•¼. ìì‹ ì˜ ë”¸ì¸ íŒ¥ì¥ë§Œ ì˜ˆë»í•˜ê³ , ì½©ì¥ì—ê²ŒëŠ” í˜ë“  ì¼ë§Œ í•˜ë¼ê³  ì‹œì¼°ì–´. ğŸ˜ ",
            "ë™ë¬¼": "ë‘êº¼ë¹„, í™©ì†Œ, ì°¸ìƒˆê°€ ì½©ì¥ë¥¼ ë„ì™€ì¤¬ì–´! ë‘êº¼ë¹„ëŠ” ê¹¨ì§„ ë…ì„ ë§‰ì•„ì£¼ê³ , í™©ì†ŒëŠ” ë°­ì„ ê°ˆì•„ì£¼ê³ , ì°¸ìƒˆëŠ” ë²¼ ê»ì§ˆì„ ê¹Œì£¼ì—ˆì§€. ğŸ¸ğŸ‚ğŸ¤",
            "ë‘êº¼ë¹„": "ë‘êº¼ë¹„ëŠ” ì½©ì¥ê°€ 'ë°‘ ë¹ ì§„ ë…ì— ë¬¼ ë¶“ê¸°' ìˆ™ì œë¥¼ ë°›ê³  ìš¸ê³  ìˆì„ ë•Œ ë‚˜íƒ€ë‚˜ì„œ, ìì‹ ì˜ ë“±ìœ¼ë¡œ êµ¬ë©ì„ ë§‰ì•„ì¤€ ë“ ë“ í•œ ì¹œêµ¬ì•¼! ğŸ¸",
            "ì‚¬ë˜": "ì‚¬ë˜(ì›ë‹˜)ëŠ” ê³ ì„ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ë†’ì€ ì‚¬ëŒì´ì•¼. ì½©ì¥ê°€ ìƒì–´ë²„ë¦° ê½ƒì‹ ì„ ë³´ê³  ê·¸ ì£¼ì¸ì„ ì°¾ë‹¤ê°€ ì½©ì¥ë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆê³ , ë‘˜ì€ ê²°í˜¼í•´ì„œ í–‰ë³µí•˜ê²Œ ì‚´ì•˜ì–´. ğŸ‘°â¤ï¸ğŸ¤µ",
            "ê½ƒì‹ ": "ì½©ì¥ê°€ ì”ì¹˜ì— ê¸‰í•˜ê²Œ ê°€ë‹¤ê°€ ê°œìš¸ê°€ì—ì„œ ìƒì–´ë²„ë¦° ì‹ ë°œì´ì•¼. ì´ ê½ƒì‹  ë•ë¶„ì— ì‚¬ë˜ë¥¼ ë§Œë‚˜ê²Œ ë˜ì—ˆìœ¼ë‹ˆ ì •ë§ ì¤‘ìš”í•œ ë¬¼ê±´ì´ì§€! ğŸ‘ ",
            "ë…": "ê³„ëª¨ê°€ ì½©ì¥ì—ê²Œ ì‹œí‚¨ ìˆ™ì œ ì¤‘ í•˜ë‚˜ì•¼. ë°‘ì´ ë¹ ì ¸ì„œ ë¬¼ì„ ì±„ìš¸ ìˆ˜ ì—†ì—ˆì§€ë§Œ ë‘êº¼ë¹„ê°€ ë„ì™€ì¤¬ì–´!",
            "ì‚¬ê±´": "ì½©ì¥ê°€ êµ¬ë°•ë°›ë‹¤ê°€, ë™ë¬¼ë“¤ì˜ ë„ì›€ìœ¼ë¡œ ìˆ™ì œë¥¼ í•˜ê³ , ì”ì¹˜ì— ê°€ë ¤ë‹¤ ê½ƒì‹ ì„ ìƒì–´ë²„ë¦¬ê³ , ê²°êµ­ ì‚¬ë˜ì™€ ê²°í˜¼í•˜ëŠ” ì´ì•¼ê¸°ì•¼.",
            "ê¶Œì„ ì§•ì•…": "â€˜ì°©í•œ ì¼(ì„ )ì„ ê¶Œì¥í•˜ê³  ë‚˜ìœ ì¼(ì•…)ì„ ë²Œí•œë‹¤â€™ëŠ” ëœ»ì´ì•¼. ì½©ì¥ëŠ” ë³µì„ ë°›ê³  íŒ¥ì¥ëŠ” ë²Œì„ ë°›ëŠ”ë‹¤ëŠ” êµí›ˆì´ì§€! âœ¨",
            "ì „ë˜ë™í™”": "ì˜›ë‚ ë¶€í„° ì…ì—ì„œ ì…ìœ¼ë¡œ ì „í•´ ë‚´ë ¤ì˜¤ëŠ” ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë€ë‹¤.",
            "ì¤„ê±°ë¦¬": "ì˜›ë‚ ì— ì°©í•œ ì½©ì¥ê°€ ì‚´ì•˜ëŠ”ë°, ê³„ëª¨ì™€ íŒ¥ì¥ì—ê²Œ êµ¬ë°•ì„ ë°›ì•˜ì–´. í•˜ì§€ë§Œ ë™ë¬¼ ì¹œêµ¬ë“¤ì˜ ë„ì›€ìœ¼ë¡œ ì–´ë ¤ì›€ì„ ì´ê²¨ë‚´ê³ , ì‚¬ë˜ì™€ ê²°í˜¼í•´ì„œ í–‰ë³µí•˜ê²Œ ì‚´ì•˜ë‹¨ë‹¤."
        };

        window.onload = function () {
            if (typeof vis === 'undefined') {
                alert("ê·¸ë˜í”„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë”©í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");
                return;
            }

            const container = document.getElementById('mynetwork');
            const data = {
                nodes: new vis.DataSet(nodesArray),
                edges: new vis.DataSet(edgesArray)
            };
            const options = {
                nodes: {
                    borderWidth: 2,
                    font: { face: 'Jua', size: 18, color: '#333' },
                    shadow: true,
                    margin: 10
                },
                edges: {
                    width: 2,
                    shadow: false,
                    color: '#B0BEC5',
                    smooth: { type: 'cubicBezier', forceDirection: 'horizontal', roundness: 0.4 }
                },
                layout: {
                    hierarchical: {
                        direction: 'LR',
                        sortMethod: 'directed',
                        levelSeparation: 180,
                        nodeSpacing: 60,
                        treeSpacing: 100,
                        blockShifting: true,
                        edgeMinimization: true,
                        parentCentralization: true
                    }
                },
                physics: false,
                groups: {
                    root: { color: { background: '#FF7043', border: '#D84315' }, shape: 'box' },
                    category: { color: { background: '#FFF176', border: '#FBC02D' }, shape: 'box', font: { size: 22 } },
                    good: { color: { background: '#C8E6C9', border: '#43A047' } },
                    bad: { color: { background: '#FFCDD2', border: '#E53935' } },
                    helper: { color: { background: '#B2DFDB', border: '#00897B' } },
                    love: { color: { background: '#F8BBD0', border: '#C2185B' } },
                    item: { color: { background: '#E1BEE7', border: '#8E24AA' } },
                    event: { color: { background: '#BBDEFB', border: '#1976D2' } }
                },
                interaction: {
                    hover: true,
                    dragNodes: true,
                    zoomView: true,
                    dragView: true
                }
            };

            // Init Network
            const network = new vis.Network(container, data, options);

            // Explicit fit to ensure visibility
            setTimeout(() => {
                network.fit();
            }, 500);

            // Handle Clicks
            network.on("click", function (params) {
                if (params.nodes.length > 0) {
                    const nodeId = params.nodes[0];
                    const nodeLabel = data.nodes.get(nodeId).label;
                    const name = nodeLabel.split('\n')[0].replace(/[^\wê°€-í£\s]/g, '');
                    if (name.includes('ì½©ì¥ì™€')) return;
                    askQuestion(name + "ì— ëŒ€í•´ ì•Œë ¤ì¤˜");
                }
            });
        };

        // Chatbot Functions
        function handleEnter(e) {
            if (e.key === 'Enter') sendUserMessage();
        }
        function askQuestion(text) {
            document.getElementById('userInput').value = text;
            sendUserMessage();
        }
        function sendUserMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if (!text) return;

            appendMessage(text, 'user');
            input.value = '';

            setTimeout(() => {
                const response = getResponse(text);
                appendMessage(response, 'bot');
            }, 500);
        }
        function appendMessage(text, type) {
            const chatBox = document.getElementById('chatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `message msg-${type}`;
            msgDiv.innerHTML = text;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }
        function getResponse(query) {
            for (const [key, answer] of Object.entries(answers)) {
                if (query.includes(key)) return answer;
            }
            if (query.includes("ì•ˆë…•")) return "ì•ˆë…•! ë°˜ê°€ì›Œ. ë§ˆì¸ë“œë§µì„ ë³´ë©° ê¶ê¸ˆí•œ ê±¸ ë¬¼ì–´ë´!";
            return "ìŒ, ê·¸ê±´ ì¡°ê¸ˆ ì–´ë ¤ìš´ë°? ğŸ¤” <br>ë§ˆì¸ë“œë§µì— ìˆëŠ” ë‹¨ì–´ë¥¼ ì½• ì°ì–´ì„œ ë¬¼ì–´ë´ ì¤„ë˜?";
        }
    </script>
</body>

</html>